<!-- =====================================================
     DISCENTE - SOLICITA√á√ïES
     Layout com KPIs, tabs visuais e timeline de status
     ===================================================== -->

<!-- KPIs - Resumo das Solicita√ß√µes -->
<div class="kpi-grid" style="margin-bottom: 25px;">

    <div class="kpi-card" style="border-left-color: #d4a017;">
        <div class="kpi-title">Pendentes</div>
        <div class="kpi-value" id="kpi-pendentes">0</div>
        <div class="kpi-sub">Aguardando an√°lise</div>
    </div>

    <div class="kpi-card" style="border-left-color: #2e8b57;">
        <div class="kpi-title">Aprovadas</div>
        <div class="kpi-value" id="kpi-aprovadas">0</div>
        <div class="kpi-sub">Inscri√ß√£o confirmada</div>
    </div>

    <div class="kpi-card" style="border-left-color: #b01313;">
        <div class="kpi-title">Recusadas</div>
        <div class="kpi-value" id="kpi-recusadas">0</div>
        <div class="kpi-sub">N√£o aprovadas</div>
    </div>

    <div class="kpi-card" style="border-left-color: #555;">
        <div class="kpi-title">Total</div>
        <div class="kpi-value" id="kpi-total">0</div>
        <div class="kpi-sub">Todas as solicita√ß√µes</div>
    </div>

</div>

<!-- Tabs de Navega√ß√£o -->
<div class="tabs-container">
    <button class="tab-btn active" data-tab="todas">
        üìã Todas
    </button>
    <button class="tab-btn" data-tab="pendentes">
        ‚è≥ Pendentes
    </button>
    <button class="tab-btn" data-tab="aprovadas">
        ‚úÖ Aprovadas
    </button>
    <button class="tab-btn" data-tab="recusadas">
        ‚ùå Recusadas
    </button>
</div>

<!-- Lista de Solicita√ß√µes -->
<div class="section-card" style="margin-top: 20px;">
    <div class="section-header">
        <h3 class="section-title">Minhas Solicita√ß√µes</h3>
        <span class="badge badge-info" id="total-solicitacoes">0 resultados</span>
    </div>

    <div class="solicitacoes-lista" id="lista-solicitacoes">
        <!-- Cards renderizados via JS -->
    </div>
</div>

<!-- Modal de Detalhes da Solicita√ß√£o -->
<div id="modalDetalhesSolicitacao" class="modal-overlay">
    <div class="modal" style="width: 600px;">
        <div class="modal-header">
            <h2 id="modal-sol-titulo">Detalhes da Solicita√ß√£o</h2>
            <span class="modal-close" onclick="fecharModalSolicitacao()">&times;</span>
        </div>
        <div class="modal-body">
            <!-- Timeline de Status -->
            <div class="timeline-status" id="modal-timeline">
                <!-- Renderizado via JS -->
            </div>

            <div class="detalhes-grid" style="margin-top: 20px;">
                <div class="detalhe-item">
                    <span class="detalhe-label">Atividade</span>
                    <span class="detalhe-valor" id="modal-sol-atividade"></span>
                </div>
                <div class="detalhe-item">
                    <span class="detalhe-label">Status</span>
                    <span class="detalhe-valor" id="modal-sol-status"></span>
                </div>
                <div class="detalhe-item">
                    <span class="detalhe-label">Data da Solicita√ß√£o</span>
                    <span class="detalhe-valor" id="modal-sol-data"></span>
                </div>
                <div class="detalhe-item">
                    <span class="detalhe-label">Carga Hor√°ria</span>
                    <span class="detalhe-valor" id="modal-sol-carga"></span>
                </div>
            </div>

            <!-- Parecer (se houver) -->
            <div class="parecer-box" id="modal-parecer-box" style="display: none;">
                <span class="detalhe-label">Parecer do Respons√°vel</span>
                <div class="parecer-content" id="modal-sol-parecer"></div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" onclick="fecharModalSolicitacao()">Fechar</button>
            <button class="btn btn-danger" id="modal-btn-cancelar" onclick="cancelarSolicitacao()"
                style="display: none;">Cancelar Solicita√ß√£o</button>
            <button class="btn btn-primary" id="modal-btn-tentar" onclick="abrirModalJustificativa()"
                style="display: none;">Tentar Novamente</button>
        </div>
    </div>
</div>

<!-- Modal de Justificativa (Tentar Novamente) -->
<div id="modalJustificativa" class="modal-overlay">
    <div class="modal" style="width: 500px;">
        <div class="modal-header">
            <h2>Nova Solicita√ß√£o</h2>
            <span class="modal-close" onclick="fecharModalJustificativa()">&times;</span>
        </div>
        <div class="modal-body">
            <div class="alert alert-info"
                style="background: #e3f2fd; border: 1px solid #90caf9; padding: 12px; border-radius: 8px; margin-bottom: 16px;">
                <strong>üí° Dica:</strong> Explique por que deseja participar desta atividade e o que mudou desde a
                √∫ltima solicita√ß√£o.
            </div>
            <div class="form-group">
                <label class="form-label"
                    style="font-weight: 600; color: #5d0b0b; margin-bottom: 8px; display: block;">Justificativa
                    *</label>
                <textarea id="input-justificativa" class="textarea" rows="4"
                    placeholder="Descreva sua motiva√ß√£o para participar desta atividade..."
                    style="width: 100%; padding: 12px; border: 1px solid #d8c8b4; border-radius: 8px; font-size: 14px; resize: vertical;"></textarea>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" onclick="fecharModalJustificativa()">Cancelar</button>
            <button class="btn btn-primary" onclick="enviarNovaJustificativa()">Enviar Solicita√ß√£o</button>
        </div>
    </div>
</div>