<div class="kpi-grid" style="margin-bottom: 30px;">
    
    <div class="kpi-card">
        <div class="kpi-title">Aguardando Aprova√ß√£o</div>
        <div class="kpi-value" id="kpi-pendentes">0</div>
        <div class="kpi-sub kpi-negative">Requer aten√ß√£o imediata</div>
    </div>

    <div class="kpi-card">
        <div class="kpi-title">Ativas / Publicadas</div>
        <div class="kpi-value" id="kpi-ativas">0</div>
        <div class="kpi-sub kpi-positive">Em execu√ß√£o no momento</div>
    </div>

    <div class="kpi-card">
        <div class="kpi-title">Total do Curso</div>
        <div class="kpi-value" id="kpi-total">0</div>
        <div class="kpi-sub">Hist√≥rico completo</div>
    </div>

</div>

<div class="toolbar" style="display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 20px; flex-wrap: wrap; gap: 15px;">
    
    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
        <div class="form-group" style="margin-bottom:0">
            <label class="form-label">Buscar</label>
            <div class="search-box">
                <span class="search-icon">üîç</span>
                <input type="text" id="buscaInput" onkeyup="filtrarTabela()" placeholder="T√≠tulo ou Respons√°vel...">
            </div>
        </div>

        <div class="form-group" style="margin-bottom:0">
            <label class="form-label">Status</label>
            <select class="select" id="filtroStatus" onchange="filtrarTabela()">
                <option value="todos">Todos</option>
                <option value="pendente">Aguardando Aprova√ß√£o</option>
                <option value="publicada">Publicadas</option>
                <option value="rejeitada">Rejeitadas</option>
            </select>
        </div>

        <div class="form-group" style="margin-bottom:0">
            <label class="form-label">Tipo</label>
            <select class="select" id="filtroTipo" onchange="filtrarTabela()">
                <option value="todos">Todos</option>
                <option value="Curso">Curso</option>
                <option value="Evento">Evento</option>
                <option value="Projeto">Projeto</option>
                <option value="Monitoria">Monitoria</option>
            </select>
        </div>

        <div class="form-group" style="margin-bottom:0">
            <label class="form-label">&nbsp;</label>
            <button class="btn btn-secondary" onclick="alert('Funcionalidade de Calend√°rio em breve (OR 001)')">
                Ver Agenda
            </button>
        </div>
    </div>

    <button class="btn btn-primary" onclick="abrirModalNova()">
        + Criar Oportunidade Institucional
    </button>
</div>

<div class="table-container">
    <table class="global-table">
        <thead>
            <tr>
                <th>T√≠tulo</th>
                <th>Respons√°vel</th>
                <th>Tipo</th>
                <th>C.H.</th> <th>Vagas</th>
                <th>Status</th>
                <th style="min-width: 110px;">A√ß√µes</th>
            </tr>
        </thead>
        <tbody id="tabela-corpo">
            <tr><td colspan="7" style="text-align:center; padding: 20px;">Carregando dados...</td></tr>
        </tbody>
    </table>
</div>

<div id="modalRejeicao" class="modal-overlay">
    <div class="modal">
        <div class="modal-header">
            <h2>Rejeitar Oportunidade</h2>
            <span class="modal-close" onclick="fecharModal('modalRejeicao')">&times;</span>
        </div>
        <div class="modal-body">
            <div class="alert alert-warning">
                Aten√ß√£o: A rejei√ß√£o √© irrevers√≠vel e requer justificativa.
            </div>
            <div class="form-group">
                <label class="form-label">Motivo da Rejei√ß√£o (Obrigat√≥rio):</label>
                <textarea id="txtJustificativa" class="textarea" placeholder="Explique o motivo para o docente..."></textarea>
            </div>
            <input type="hidden" id="idRejeicaoTemp">
        </div>
        <div class="modal-footer">
            <button class="btn btn-ghost" onclick="fecharModal('modalRejeicao')">Cancelar</button>
            <button class="btn btn-danger" onclick="confirmarRejeicao()">Confirmar Rejei√ß√£o</button>
        </div>
    </div>
</div>

<div id="modalNova" class="modal-overlay">
    <div class="modal" style="width: 700px;">
        <div class="modal-header">
            <h2>Nova Oportunidade Institucional</h2>
            <span class="modal-close" onclick="fecharModal('modalNova')">&times;</span>
        </div>
        <div class="modal-body">
            
            <div class="alert alert-info">
                Esta a√ß√£o cria uma atividade vinculada diretamente √† Coordena√ß√£o.
            </div>

            <div class="form-group">
                <label class="form-label">T√≠tulo da Atividade *</label>
                <input type="text" class="input-text" id="novoTitulo" placeholder="Ex: Semana Acad√™mica 2025">
            </div>

            <div style="display: flex; gap: 20px;">
                <div class="form-group" style="flex: 1;">
                    <label class="form-label">Tipo *</label>
                    <select class="select" id="novoTipo">
                        <option>Evento</option>
                        <option>Curso</option>
                        <option>Projeto</option>
                    </select>
                </div>
                <div class="form-group" style="width: 150px;">
                    <label class="form-label">Carga Hor√°ria (h) *</label>
                    <input type="number" class="input-text" id="novaCH" placeholder="Ex: 40">
                </div>
            </div>

            <div style="display: flex; gap: 20px;">
                <div class="form-group" style="width: 120px;">
                    <label class="form-label">Vagas *</label>
                    <input type="number" class="input-text" id="novasVagas" value="50">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label class="form-label">Data In√≠cio *</label>
                    <input type="date" class="input-text" id="novaDataInicio">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label class="form-label">Data Fim *</label>
                    <input type="date" class="input-text" id="novaDataFim">
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Descri√ß√£o Detalhada *</label>
                <textarea class="textarea" id="novaDescricao" placeholder="Descreva os objetivos e atividades..."></textarea>
            </div>

            <div class="form-group">
                <label class="form-label">Respons√°vel</label>
                <input type="text" class="input-text input-disabled" value="Coordena√ß√£o do Curso" disabled>
            </div>

        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" onclick="fecharModal('modalNova')">Cancelar</button>
            <button class="btn btn-primary" onclick="salvarNovaOportunidade()">Publicar Atividade</button>
        </div>
    </div>
</div>

<div id="modalDetalhes" class="modal-overlay">
    <div class="modal" style="width: 600px;">
        <div class="modal-header">
            <h2>Detalhes da Oportunidade</h2>
            <span class="modal-close" onclick="fecharModal('modalDetalhes')">&times;</span>
        </div>
        <div class="modal-body" id="conteudoDetalhes">
            </div>
        <div class="modal-footer">
            <button class="btn btn-primary" onclick="fecharModal('modalDetalhes')">Fechar</button>
        </div>
    </div>
</div>